import{g as e,s as i,x as a,p as t,c as n,w as s,i as o,o as l,e as c,f as r,t as d,h as p,j as u,l as b,k as h}from"./index-D2V8Eyea.js";import{N as m}from"./NavBar.Clp1va3T.js";import{S as g}from"./Sidebar.DuSXkpyg.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./right.CKag88Jh.js";const v=""+new URL("x7-DXjNddwh.png",import.meta.url).href,f=""+new URL("x8-iXe832U7.png",import.meta.url).href,_=""+new URL("x9-D06aldV0.png",import.meta.url).href;const y=k({data:()=>({inviteCode:"",inviteLink:"",sidebarOpen:!1}),components:{NavBar:m,Sidebar:g},onLoad(){this.initInviteData()},methods:{initInviteData(){this.inviteLink=this.generateInviteLink(),console.log("邀请链接:",this.inviteLink)},generateInviteLink(){let i="";i=window.location.origin+window.location.pathname;const a=e("invite_code")||"";return a?`${i}?invite_code=${a}`:i},copyInviteLink(){navigator.clipboard?navigator.clipboard.writeText(this.inviteLink).then((()=>{i({title:"邀请链接已复制",icon:"success"})})).catch((()=>{this.fallbackCopy(this.inviteLink)})):this.fallbackCopy(this.inviteLink)},fallbackCopy(e){const a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select();try{document.execCommand("copy"),i({title:"已复制到剪贴板",icon:"success"})}catch(t){i({title:"复制失败",icon:"none"})}document.body.removeChild(a)},toggleMenu(){a()},toggleSidebar(){console.log("toggleSidebar 被调用，当前状态:",this.sidebarOpen),this.sidebarOpen=!this.sidebarOpen,console.log("切换后状态:",this.sidebarOpen)},closeSidebar(){this.sidebarOpen=!1},handleSidebarMenuClick(e){console.log("侧边栏菜单点击:",e),this.closeSidebar()}}},[["render",function(e,i,a,m,g,k){const y=t("NavBar"),C=u,L=o,x=b,S=h,w=t("Sidebar");return l(),n(L,{class:"invitation-page"},{default:s((()=>[c(y,{title:"邀请好友",showMenu:!0,onToggleMenu:k.toggleSidebar},null,8,["onToggleMenu"]),c(L,{class:"main-content"},{default:s((()=>[c(L,{class:"question-block-container"},{default:s((()=>[c(C,{src:v,mode:"aspectFit",class:"question-block-image"})])),_:1}),c(L,{class:"invitation-card"},{default:s((()=>[c(L,{class:"card-header"},{default:s((()=>[c(C,{src:f,mode:"aspectFit",class:"card-title-image"})])),_:1}),c(L,{class:"card-body"},{default:s((()=>[c(L,{class:"link-label"},{default:s((()=>[c(x,{class:"label-text"},{default:s((()=>[r("邀请链接:")])),_:1})])),_:1}),c(L,{class:"link-display"},{default:s((()=>[c(x,{class:"link-text"},{default:s((()=>[r(d(g.inviteLink),1)])),_:1})])),_:1}),c(S,{class:"copy-link-btn",onClick:k.copyInviteLink},{default:s((()=>[c(C,{src:_,mode:"aspectFit",class:"copy-btn-image"})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),c(w,{isOpen:g.sidebarOpen,onMenuClick:k.handleSidebarMenuClick},null,8,["isOpen","onMenuClick"]),g.sidebarOpen?(l(),n(L,{key:0,class:"sidebar-overlay",onClick:k.closeSidebar},null,8,["onClick"])):p("",!0)])),_:1})}],["__scopeId","data-v-ba1d4636"]]);export{y as default};
