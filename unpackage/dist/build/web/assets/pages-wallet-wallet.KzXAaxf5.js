import{s as e,m as a,n as t,p as n,c as s,w as i,i as l,o,e as c,f as r,t as d,h as u,q as h,v as b,F as m,l as p,j as f,k as g}from"./index-D2V8Eyea.js";import{w as y}from"./wallet-manager.DtY3I8Qk.js";import{S as _}from"./Sidebar.DuSXkpyg.js";import{_ as w}from"./right.CKag88Jh.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const S=""+new URL("kaifang-CLkZ-A58.png",import.meta.url).href;const k=C({components:{Sidebar:_},data:()=>({walletConnected:!1,walletAddress:"",balance:0,chainId:null,username:"awm21è¨æ³•",refreshing:!1,sidebarOpen:!1,lobbyCards:[{duration:"3åˆ†é’Ÿ",type:"å¤§åŽ…",openTime:"å¼€æ”¾æ—¶é—´",timePerSession:"3åˆ†é’Ÿ/æ¬¡",remainingQuota:120,buttonText:"å¼€æ”¾"},{duration:"3åˆ†é’Ÿ",type:"å¤§åŽ…",openTime:"å¼€æ”¾æ—¶é—´",timePerSession:"3åˆ†é’Ÿ/æ¬¡",remainingQuota:120,buttonText:"å¼€æ”¾"},{duration:"3åˆ†é’Ÿ",type:"å¤§åŽ…",openTime:"å¼€æ”¾æ—¶é—´",timePerSession:"3åˆ†é’Ÿ/æ¬¡",remainingQuota:120,buttonText:"å¼€æ”¾"},{duration:"3åˆ†é’Ÿ",type:"å¤§åŽ…",openTime:"å¼€æ”¾æ—¶é—´",timePerSession:"3åˆ†é’Ÿ/æ¬¡",remainingQuota:120,buttonText:"å¼€æ”¾"},{duration:"3åˆ†é’Ÿ",type:"å¤§åŽ…",openTime:"å¼€æ”¾æ—¶é—´",timePerSession:"3åˆ†é’Ÿ/æ¬¡",remainingQuota:120,buttonText:"å¼€æ”¾"},{duration:"3åˆ†é’Ÿ",type:"å¤§åŽ…",openTime:"å¼€æ”¾æ—¶é—´",timePerSession:"3åˆ†é’Ÿ/æ¬¡",remainingQuota:120,buttonText:"å¼€æ”¾"},{duration:"3åˆ†é’Ÿ",type:"å¤§åŽ…",openTime:"å¼€æ”¾æ—¶é—´",timePerSession:"3åˆ†é’Ÿ/æ¬¡",remainingQuota:120,buttonText:"å¼€æ”¾"},{duration:"3åˆ†é’Ÿ",type:"å¤§åŽ…",openTime:"å¼€æ”¾æ—¶é—´",timePerSession:"3åˆ†é’Ÿ/æ¬¡",remainingQuota:120,buttonText:"å¼€æ”¾"},{duration:"3åˆ†é’Ÿ",type:"å¤§åŽ…",openTime:"å¼€æ”¾æ—¶é—´",timePerSession:"3åˆ†é’Ÿ/æ¬¡",remainingQuota:120,buttonText:"å¼€æ”¾"}]}),onLoad(){console.log("é’±åŒ…é¡µé¢åŠ è½½ï¼Œæ£€æŸ¥è¿žæŽ¥çŠ¶æ€..."),this.checkWalletStatus()},onShow(){console.log("é’±åŒ…é¡µé¢æ˜¾ç¤ºï¼Œæ£€æŸ¥é’±åŒ…çŠ¶æ€..."),this.checkWalletStatus()},methods:{async checkWalletStatus(){try{const e=await y.getNetworkInfo();console.log("é’±åŒ…é¡µé¢æ£€æŸ¥çŠ¶æ€:",e),e.isConnected&&e.account?(this.walletConnected=!0,this.walletAddress=e.account,this.chainId=e.chainId,await this.loadBalance()):(this.walletConnected=!1,this.walletAddress="",this.chainId=null,this.balance=0)}catch(e){console.error("æ£€æŸ¥é’±åŒ…çŠ¶æ€å¤±è´¥:",e),this.walletConnected=!1,this.walletAddress="",this.balance=0}},async loadBalance(){try{const e=await y.getUSDTBalance(this.walletAddress);e.success?(this.balance=e.balance,console.log("ä½™é¢åŠ è½½æˆåŠŸ:",this.balance)):(console.warn("ä½™é¢åŠ è½½å¤±è´¥:",e.error),this.balance=0)}catch(e){console.error("åŠ è½½ä½™é¢å¤±è´¥:",e),this.balance=0}},async refreshBalance(){if(this.walletConnected){this.refreshing=!0;try{await this.loadBalance(),e({title:"ä½™é¢å·²åˆ·æ–°",icon:"success"})}catch(a){e({title:"åˆ·æ–°å¤±è´¥",icon:"none"})}finally{this.refreshing=!1}}else e({title:"è¯·å…ˆè¿žæŽ¥é’±åŒ…",icon:"none"})},formatAddress:e=>e?e.length<=10?e:e.substring(0,6)+"..."+e.substring(e.length-4):"",getCurrencySymbol(){return 1===this.chainId?"TRX":10===this.chainId?"ETH":56===this.chainId?"BNB":"TOKEN"},copyAddress(){this.walletAddress?a({data:this.walletAddress,success:()=>{e({title:"åœ°å€å·²å¤åˆ¶",icon:"success"})}}):e({title:"æ— åœ°å€å¯å¤åˆ¶",icon:"none"})},goToConnect(){t({url:"/pages/index/index"})},showSettings(){e({title:"è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­",icon:"none"})},openLobby(a){this.walletConnected?e({title:"å¼€å¯å¤§åŽ…åŠŸèƒ½",icon:"none"}):e({title:"è¯·å…ˆè¿žæŽ¥é’±åŒ…",icon:"none"})},toggleSidebar(){console.log("toggleSidebar è¢«è°ƒç”¨ï¼Œå½“å‰çŠ¶æ€:",this.sidebarOpen),this.sidebarOpen=!this.sidebarOpen,console.log("åˆ‡æ¢åŽçŠ¶æ€:",this.sidebarOpen)},closeSidebar(){this.sidebarOpen=!1},handleSidebarMenuClick(e){console.log("ä¾§è¾¹æ èœå•ç‚¹å‡»:",e),this.closeSidebar()}}},[["render",function(e,a,t,y,_,C){const k=p,T=l,x=f,A=g,O=n("Sidebar");return o(),s(T,{class:"wallet-page"},{default:i((()=>[c(T,{class:"header-section"},{default:i((()=>[c(T,{class:"user-info"},{default:i((()=>[c(T,{class:"avatar"},{default:i((()=>[c(k,{class:"avatar-placeholder"},{default:i((()=>[r("ðŸ‘¤")])),_:1})])),_:1}),c(T,{class:"user-details"},{default:i((()=>[c(k,{class:"username"},{default:i((()=>[r(d(C.formatAddress(_.walletAddress)||"awm21è¨æ³•"),1)])),_:1}),c(k,{class:"user-id"},{default:i((()=>[r("ID: 105215")])),_:1})])),_:1}),c(T,{class:"balance-display",onClick:C.refreshBalance},{default:i((()=>[c(k,{class:"balance-text"},{default:i((()=>[r("ä½™é¢:")])),_:1}),c(k,{class:"balance-value"},{default:i((()=>[r(d(_.balance)+" U",1)])),_:1}),c(k,{class:"add-icon"},{default:i((()=>[r(d(_.refreshing?"âŸ³":"+"),1)])),_:1})])),_:1},8,["onClick"]),c(T,{class:"action-icons"},{default:i((()=>[c(x,{class:"icon",src:w,onClick:C.toggleSidebar},null,8,["onClick"])])),_:1})])),_:1})])),_:1}),_.walletConnected?u("",!0):(o(),s(T,{key:0,class:"connection-notice"},{default:i((()=>[c(k,{class:"notice-text"},{default:i((()=>[r("é’±åŒ…æœªè¿žæŽ¥")])),_:1}),c(A,{class:"connect-btn",onClick:C.goToConnect},{default:i((()=>[r("è¿žæŽ¥é’±åŒ…")])),_:1},8,["onClick"])])),_:1})),c(T,{class:"main-content"},{default:i((()=>[c(T,{class:"cards-grid"},{default:i((()=>[(o(!0),h(m,null,b(_.lobbyCards,((e,a)=>(o(),s(T,{class:"card",key:a,onClick:a=>C.openLobby(e)},{default:i((()=>[c(T,{class:"card-content"},{default:i((()=>[c(k,{class:"time-duration"},{default:i((()=>[r(d(e.duration),1)])),_:2},1024),c(k,{class:"lobby-type"},{default:i((()=>[r(d(e.type),1)])),_:2},1024),c(k,{class:"open-time"},{default:i((()=>[r(d(e.openTime),1)])),_:2},1024),c(k,{class:"time-per-session"},{default:i((()=>[r(d(e.timePerSession),1)])),_:2},1024),c(k,{class:"remaining-quota"},{default:i((()=>[r("å‰©ä½™é¢åº¦:"+d(e.remainingQuota),1)])),_:2},1024)])),_:2},1024),c(x,{class:"open-btn",src:S,onClick:a=>C.openLobby(e)},null,8,["onClick"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),c(O,{isOpen:_.sidebarOpen,onMenuClick:C.handleSidebarMenuClick},null,8,["isOpen","onMenuClick"]),_.sidebarOpen?(o(),s(T,{key:1,class:"sidebar-overlay",onClick:C.closeSidebar},null,8,["onClick"])):u("",!0)])),_:1})}],["__scopeId","data-v-9ee89417"]]);export{k as default};
